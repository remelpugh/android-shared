apply plugin: "android-library"
apply from: "${rootDir}/android_common.gradle"

repositories {
    mavenCentral()
//    maven{
//        url "http://maven.dabay6.com/maven2"
//    }
}

dependencies {
    compile fileTree(dir: "libs", include: ["*.jar"])
    compile "com.android.support:appcompat-v7:19.1.0"
    compile "com.android.support:gridlayout-v7:19.1.0"
    compile "com.android.support:support-v4:19.1.0"
    compile "com.google.android.gms:play-services:4.3.23"
    compile "com.google.code.gson:gson:2.2.4"
    compile "com.jakewharton:butterknife:5.0.0"
}

def version_name = "1.0.0"

android {
    defaultConfig {
        versionCode 100
        versionName version_name
    }

    buildTypes {
        debug {
            runProguard false
        }
        release {
            runProguard false
            proguardFiles getDefaultProguardFile("proguard-android.txt"), "proguard-rules.txt"
        }
    }
}

apply plugin: "maven"

configurations {
    deployerJars
}

dependencies {
    deployerJars "org.apache.maven.wagon:wagon-ftp:2.2"
}

def aarFile = file("build/libs/Android Shared.aar")

artifacts {
    archives aarFile
}

uploadArchives {
    repositories {
        mavenDeployer {
            configuration = configurations.deployerJars

            repository(url: project.REPO_URL) {
                authentication(userName: project.REPO_USERNAME, password: project.REPO_PASSWORD)
            }

            pom {
                project {
                    name POM_NAME
                    artifactId POM_ARTIFACT_ID
                    groupId project.GROUP
                    packaging POM_PACKAGING
                    description POM_DESCRIPTION
                    version version_name

                    developers {
                        developer {
                            id project.POM_DEVELOPER_ID
                            name project.POM_DEVELOPER_NAME
                            email project.POM_DEVELOPER_EMAIL
                        }
                    }
                }
            }
        }
    }
}